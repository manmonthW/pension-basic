# 养老金最优解计算器

北京职工养老保险缴费方案智能对比工具

## 功能介绍

这是一个专为北京失业人员设计的养老保险计算工具，帮助用户：

1. **查询退休年龄** - 根据新规精准计算法定退休年龄
2. **对比缴费方案** - 智能对比4档缴费基数方案
3. **预估养老金** - 准确计算退休后每月养老金
4. **投资回报分析** - 计算回本时间，帮助做出最优决策

## 快速开始

### 方式1：浏览器直接打开（推荐）

1. 双击打开 `index.html` 文件
2. 在浏览器中使用计算器

### 方式2：本地服务器运行

```bash
# 使用Python启动本地服务器
python -m http.server 8000

# 或使用Node.js
npx http-server
```

然后在浏览器访问 `http://localhost:8000`

### 方式3：Node.js测试

```bash
# 安装Node.js后运行测试
node test.js
```

## 使用指南

### 第一步：填写基本信息

1. **人员类型**：选择男职工、女干部或女工人
2. **出生年月**：填写您的出生年份和月份
3. **查询退休年龄**：点击按钮查看预估退休年龄

### 第二步：填写历史缴费信息

1. **已累计缴费月数**：填写到目前为止已缴费的月数（含视同年限）
2. **历史平均缴费指数**：通常在0.6-3.0之间，不清楚填1.0
3. **个人账户余额**：当前个人账户累积金额

### 第三步：查看对比结果

系统将自动计算4档缴费方案：

- **低档(60%)** - 缴费基数7,162元/月
- **中档(80%)** - 缴费基数9,639元/月
- **标准档(100%)** - 缴费基数12,049元/月
- **封顶档(300%)** - 缴费基数35,811元/月

每个方案显示：

- 每月个人缴费金额
- 个人总缴费金额
- 预计月养老金
- 相比低档的回本时间
- 基础养老金和个人账户养老金分项

## 核心数据说明

### 北京2025年社保参数

| 参数 | 数值 |
|------|------|
| 社平工资 | 12,049元 |
| 缴费基数下限 | 7,162元（60%） |
| 缴费基数上限 | 35,811元（300%） |
| 个人缴费比例 | 8% |
| 单位缴费比例 | 16% |
| 个人账户年利率 | 4% |

### 退休年龄规则

#### 男职工
- 1965年前出生 → 已退休
- 1977年及之后出生 → 统一63岁
- 1965-1976年出生 → 按区间表渐进式延迟

#### 女干部
- 1970年前出生 → 已退休
- 1982年及之后出生 → 统一58岁
- 1970-1981年出生 → 按区间表渐进式延迟

#### 女工人
- 1975年前出生 → 已退休
- 1984年及之后出生 → 统一55岁
- 1975-1983年出生 → 按区间表渐进式延迟

### 养老金计算公式

```
月养老金 = 基础养老金 + 个人账户养老金

基础养老金 = (社平工资 + 本人指数化月平均缴费工资) ÷ 2 × 缴费年限 × 1%

个人账户养老金 = 个人账户余额 ÷ 计发月数N
```

## 项目结构

```
pension-basic/
├── index.html              # 主页面
├── app.js                  # 浏览器版核心逻辑
├── main.js                 # 用户交互逻辑
├── styles.css              # 样式文件
├── retirementAge.js        # 退休年龄查询模块（Node.js版）
├── pensionCalculator.js    # 养老金计算模块（Node.js版）
├── cityConfig.js           # 城市配置数据
├── test.js                 # 测试文件
├── Tech-spec               # 技术规格文档
├── 养老金政策参数表.md      # 政策参数说明
└── README.md               # 本文件
```

## 技术实现

### 退休年龄查询算法

根据Tech-spec文档要求：

1. 将出生年月转换为YYYYMM格式（如1965年1月 → 196501）
2. 在对应人员类型的区间表中查找匹配区间
3. 获取退休年龄代码（如6001表示60岁1个月）
4. 计算具体退休年月：出生年月 + 退休年龄 + 1个月

### 养老金计算算法

采用Tech-spec第五章的伪代码实现：

1. 计算剩余缴费月数
2. 估算未来缴费指数和个人账户余额
3. 计算基础养老金和个人账户养老金
4. 对比不同方案的回本时间

## 计算示例

**案例：男职工，1985年6月生**

- 当前2025年12月，40岁
- 已缴费10年（120个月）
- 历史平均缴费指数1.0
- 个人账户余额50,000元

**计算结果：**

| 方案 | 缴费基数 | 月缴费 | 总缴费 | 月养老金 | 回本时间 |
|------|---------|--------|--------|---------|---------|
| 低档60% | 7,229元 | 578元 | 156,725元 | 7,493元 | - |
| 中档80% | 9,639元 | 771元 | 208,974元 | 8,804元 | 40个月 |
| 标准100% | 12,049元 | 964元 | 261,222元 | 10,115元 | 40个月 |
| 封顶300% | 36,147元 | 2,892元 | 783,667元 | 23,225元 | 40个月 |

**结论：** 所有高档方案回本时间均为40个月（约3.3年），长期来看选择高档更划算。

## 重要提醒

1. 本计算结果基于2025年北京市现行政策
2. 实际养老金以社保部门核定为准
3. 未来政策可能调整，建议定期更新参数
4. 延迟退休需结合个人健康和职业规划

## 数据来源

- 退休年龄：《国务院关于工人退休、退职的暂行办法》
- N值计发月数：国家统一规定（国发〔1978〕104号）
- 北京参数：北京市人力资源和社会保障局2025年公布数据

## 扩展开发

### 添加新城市

在 `cityConfig.js` 中添加新城市配置：

```javascript
const CITY_CONFIG = {
  北京: { /* 现有配置 */ },
  上海: {
    city: "上海",
    avgSalary: 12000,
    baseMin: 7200,
    baseMax: 36000,
    // ... 其他参数
  },
};
```

### 自定义缴费档位

修改 `main.js` 中的档位比例：

```javascript
const payBaseOptions = [
  config.baseMin,              // 自定义档位1
  Math.round(config.avgSalary * 0.8),  // 自定义档位2
  config.avgSalary,            // 自定义档位3
  config.baseMax,              // 自定义档位4
];
```

## 测试验证

运行测试确保计算准确：

```bash
node test.js
```

测试覆盖：
- 退休年龄查询（7个测试用例）
- 养老金计算（完整流程验证）

## 开发者信息

- 开发基于：Tech-spec技术规格文档
- 数据来源：养老金政策参数表.md
- 城市数据：cityConfig.js

## 许可证

本项目仅供个人参考使用，不构成任何投资建议。

---

**最后更新：2025年12月**
**版本：v1.0**
**适用城市：北京**
