# 养老金计算器 - 微信小程序版

灵活就业人员养老保险缴费方案智能对比分析系统

## 📱 项目简介

这是一个专为**灵活就业人员**设计的养老金计算工具微信小程序版本，帮助用户智能对比不同缴费方案，做出最优决策。

### 主要功能

✅ **退休年龄查询** - 根据新规精准计算法定退休年龄
✅ **四档方案对比** - 智能对比60%/100%/200%/300%四档缴费基数
✅ **养老金预估** - 准确计算退休后每月养老金
✅ **回本时间分析** - 帮助做出最优投资决策
✅ **详细公式说明** - 透明展示计算过程
✅ **分享功能** - 分享结果给好友

### 适用人群

- 失业后继续缴纳职工养老保险的灵活就业人员
- 个人承担全部20%缴费比例的参保人员
- 需要规划养老金缴费方案的用户

## 🚀 快速开始

### 环境要求

- 微信开发者工具 v3.11.3 或更高版本
- 小程序基础库 3.5.5 或更高版本

### 导入项目

1. 打开微信开发者工具
2. 选择 "导入项目"
3. 选择 `miniprogram` 文件夹作为项目目录
4. AppID 选择 "测试号" 或填入您的小程序 AppID
5. 项目名称：养老金计算器
6. 点击 "导入"

### 项目结构

```
miniprogram/
├── app.js                  # 小程序逻辑
├── app.json                # 小程序全局配置
├── app.wxss                # 小程序全局样式
├── sitemap.json            # 索引配置
├── project.config.json     # 项目配置
├── pages/                  # 页面目录
│   ├── index/              # 首页（输入页面）
│   │   ├── index.js
│   │   ├── index.json
│   │   ├── index.wxml
│   │   └── index.wxss
│   └── result/             # 结果页面
│       ├── result.js
│       ├── result.json
│       ├── result.wxml
│       └── result.wxss
└── utils/                  # 工具函数
    ├── retirementAge.js    # 退休年龄查询
    ├── pensionCalculator.js # 养老金计算
    ├── cityConfig.js       # 城市配置
    └── util.js             # 通用工具
```

## 📖 使用说明

### 第一步：填写基本信息

1. 选择城市（目前仅支持北京）
2. 选择人员类型（男职工/女干部/女工人）
3. 选择出生年份和月份
4. 点击"查询退休年龄"查看预估退休信息

### 第二步：填写历史缴费信息

1. **已累计缴费月数**：到目前为止已缴费的月数（含视同年限）
2. **历史平均缴费指数**：通常在0.6-3.0之间，不清楚填1.0
3. **个人账户余额**：当前个人账户累积金额

### 第三步：查看计算结果

系统自动计算四档缴费方案：
- **基础档(60%)** - 最低缴费标准
- **标准档(100%)** - 按社平工资缴费
- **进阶档(200%)** - 两倍社平工资
- **尊享档(300%)** - 最高缴费标准

每个方案显示：
- 月养老金金额
- 缴费基数和月缴费
- 个人账户余额
- 基础养老金和个人账户养老金分项
- 相比基础档的回本时间

## 💡 核心参数说明

### 北京2025年社保参数

| 参数 | 数值 |
|------|------|
| 社平工资 | 12,049元 |
| 缴费基数下限 | 7,162元（60%） |
| 缴费基数上限 | 35,811元（300%） |
| 灵活就业总缴费 | 20% |
| 计入个人账户 | 8% |
| 进入统筹账户 | 12% |
| 个人账户年利率 | 1.5% |

### 养老金计算公式

```
月养老金 = 基础养老金 + 个人账户养老金

基础养老金 = (社平工资 + 本人指数化工资) ÷ 2 × 缴费年限 × 1%

个人账户养老金 = 个人账户余额 ÷ 计发月数N
```

### 灵活就业人员缴费比例

```
个人总缴费 = 缴费基数 × 20%
├─ 8% 计入个人账户（用于个人账户养老金）
└─ 12% 进入统筹账户（用于基础养老金池）
```

## 🎨 特色功能

### 1. 智能推荐

系统根据计算结果推荐：
- 回本最快的方案
- 养老金最高的方案

### 2. 分享功能

- **复制结果**：一键复制计算结果到剪贴板
- **分享给好友**：通过微信分享给朋友
- **分享到朋友圈**：发布到朋友圈

### 3. 详细说明

- 退休年龄自动查询
- 养老金计算公式详解
- 灵活就业人员缴费标准说明

## 🔧 技术实现

### 退休年龄查询

- 基于国务院延迟退休政策
- 支持男职工、女干部、女工人三种人员类型
- 采用区间表查询算法
- 精确计算到月份

### 养老金计算

- 严格按照国家养老金计算公式
- 考虑历史缴费和未来缴费
- 计算个人账户利息（年利率1.5%）
- 支持四档缴费方案对比

### 性能优化

- 使用小程序原生组件
- 页面间数据通过路由参数传递
- 合理使用setData减少渲染
- 样式使用rpx单位适配不同屏幕

## 📝 开发说明

### 修改城市配置

编辑 `utils/cityConfig.js` 添加新城市：

```javascript
const CITY_CONFIG = {
  北京: { /* 现有配置 */ },
  上海: {
    city: "上海",
    avgSalary: 12000,
    baseMin: 7200,
    baseMax: 36000,
    // ... 其他参数
  },
};
```

### 修改缴费档位

编辑计算逻辑中的 `payBaseOptions`：

```javascript
payBaseOptions: [
  config.baseMin,              // 自定义档位1
  config.avgSalary,            // 自定义档位2
  config.avgSalary * 2,        // 自定义档位3
  config.baseMax,              // 自定义档位4
]
```

### 添加新页面

1. 在 `pages/` 目录下创建新文件夹
2. 创建 `.wxml`, `.wxss`, `.js`, `.json` 四个文件
3. 在 `app.json` 的 `pages` 数组中注册

## 🚀 发布上线

### 1. 申请小程序

1. 访问 https://mp.weixin.qq.com
2. 注册小程序账号
3. 获取 AppID

### 2. 配置 AppID

在 `project.config.json` 中修改：

```json
{
  "appid": "你的AppID"
}
```

### 3. 上传代码

1. 在微信开发者工具中点击 "上传"
2. 填写版本号和项目备注
3. 上传成功后，到微信公众平台提交审核

### 4. 提交审核

1. 登录微信公众平台
2. 进入"版本管理"
3. 提交审核
4. 审核通过后发布

## ⚠️ 重要提示

1. 本计算结果基于2025年北京市现行政策
2. 实际养老金以社保部门核定为准
3. 未来政策可能调整，建议定期更新参数
4. 仅适用于灵活就业人员（个人缴费20%）

## 📊 数据来源

- 退休年龄：《国务院关于工人退休、退职的暂行办法》
- N值计发月数：国家统一规定（国发〔1978〕104号）
- 北京参数：北京市人力资源和社会保障局2025年公布数据

## 📄 许可证

本项目仅供个人参考使用，不构成任何投资建议。

---

**版本：v1.0.0**
**最后更新：2025年12月**
**适用城市：北京**
**适用人群：灵活就业人员**
